(()=>{var e={};e.id=938,e.ids=[938],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7511:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),r(7322),r(9351),r(5866);var s=r(3191),a=r(8716),n=r(7922),l=r.n(n),d=r(5231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);let o=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7322)),"/app/frontend/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9351)),"/app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/app/settings/page.tsx"],x="/settings/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9037:(e,t,r)=>{Promise.resolve().then(r.bind(r,942))},942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(326),a=r(7577),n=r(4976),l=r(108),d=r(119),i=r(6824),o=r(9395),c=r(3951),x=r(7786),u=r(8825);let m=["ap-south-1","ap-southeast-1","ap-southeast-2","us-east-1","us-west-2","eu-west-1","eu-central-1"];function g(){let e=(0,n.NL)(),{token:t,logout:r}=(0,o.a)(),g=a.useMemo(()=>(function(e){if(!e)return null;let t=e.split(".");if(t.length<2)return null;try{let e=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=e.padEnd(e.length+(4-e.length%4)%4,"="),s=atob(r);return JSON.parse(s)}catch{return null}})(t),[t]),p=g?.email??"",h=g?.role??"",b=g?.org??"",f=(0,l.a)({queryKey:["org-me"],queryFn:()=>(0,i.SC)("/organization/me",{},{token:t||void 0}),enabled:!!t}),[v,j]=a.useState({name:"",region_preference:"ap-south-1"});a.useEffect(()=>{f.data&&j({name:f.data.name??"",region_preference:f.data.region_preference||"ap-south-1"})},[f.data]);let k=(0,d.D)({mutationFn:async()=>{let e={name:v.name.trim(),region_preference:v.region_preference||null};return(0,i.SC)("/organization/me",{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},{token:t||void 0})},onSuccess:async()=>{await e.invalidateQueries({queryKey:["org-me"]})}}),N=k.isPending,y=N||!v.name.trim();return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(c.Z,{title:"Settings",subtitle:"Manage your organization preferences and account details."}),(0,s.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[s.jsx(x.Z,{title:"Account",value:p||"-",subtitle:h?`Role: ${h}`:" "}),s.jsx(x.Z,{title:"Organization ID",value:b||"-",subtitle:"Tenant scope"}),s.jsx(x.Z,{title:"Environment",value:"Production",subtitle:"Current runtime"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200/70 bg-white p-5 shadow-sm dark:border-slate-800/70 dark:bg-slate-950",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:"Organization"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:"Update your org name and default region."})]}),s.jsx("button",{type:"button",onClick:()=>f.refetch(),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",disabled:f.isFetching,children:f.isFetching?"Refreshing...":"Refresh"})]}),f.isLoading?(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-10 w-full animate-pulse rounded-xl bg-slate-100 dark:bg-slate-900"}),s.jsx("div",{className:"h-10 w-full animate-pulse rounded-xl bg-slate-100 dark:bg-slate-900"}),s.jsx("div",{className:"h-10 w-40 animate-pulse rounded-xl bg-slate-100 dark:bg-slate-900"})]}):f.isError?s.jsx(u.Z,{title:"Couldn't load organization",description:"Please try refresh. If it persists, check your token/session.",actions:[{label:"Retry",onClick:()=>f.refetch()}]}):(0,s.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),y||k.mutate()},children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"Organization name"}),s.jsx("input",{value:v.name,onChange:e=>j(t=>({...t,name:e.target.value})),placeholder:"Your organization",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none ring-0 focus:border-slate-300 focus:outline-none dark:border-slate-800 dark:bg-slate-950 dark:text-slate-100",maxLength:200}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"This appears across dashboards and reports."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"Default region"}),s.jsx("select",{value:v.region_preference,onChange:e=>j(t=>({...t,region_preference:e.target.value})),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none ring-0 focus:border-slate-300 focus:outline-none dark:border-slate-800 dark:bg-slate-950 dark:text-slate-100",children:m.map(e=>s.jsx("option",{value:e,children:e},e))}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Used as a fallback for emissions factors and reporting."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("button",{type:"submit",disabled:y,className:"inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-white dark:text-slate-950 dark:hover:bg-slate-100",children:N?"Saving...":"Save changes"}),s.jsx("button",{type:"button",onClick:()=>{f.data&&j({name:f.data.name??"",region_preference:f.data.region_preference||"ap-south-1"})},className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",children:"Reset"}),k.isError?s.jsx("span",{className:"text-sm text-rose-600 dark:text-rose-400",children:"Failed to save. Try again."}):k.isSuccess?s.jsx("span",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:"Saved."}):null]})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200/70 bg-white p-5 shadow-sm dark:border-slate-800/70 dark:bg-slate-950",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:"Security"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:"Manage your session and access."}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-800 dark:bg-slate-900/30",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Session"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700 dark:text-slate-300",children:p||"Signed in"}),s.jsx("div",{className:"mt-3 flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:r,className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-100 dark:hover:bg-slate-900",children:"Sign out"})})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-950",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"API keys"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:"Create project keys from the API Keys page and use them in SDK/CLI ingestion."}),s.jsx("a",{href:"/api-keys",className:"mt-3 inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 dark:bg-white dark:text-slate-950 dark:hover:bg-slate-100",children:"Go to API Keys"})]})]})]})]})]})}},8825:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(326);r(7577);var a=r(434);function n(...e){return e.filter(Boolean).join(" ")}function l({a:e}){let t=n("inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-ring/40 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:opacity-90 shadow-sm border border-primary/20",secondary:"bg-muted/60 text-foreground hover:bg-muted border border-border/60",ghost:"bg-transparent text-foreground hover:bg-muted/60 border border-transparent"}[e.variant??"primary"]);return e.href?e.external?(0,s.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:t,children:[e.icon,e.label]}):(0,s.jsxs)(a.default,{href:e.href,className:t,children:[e.icon,e.label]}):(0,s.jsxs)("button",{type:"button",className:t,onClick:e.onClick,children:[e.icon,e.label]})}let d=function({title:e,description:t,icon:r,actions:a,compact:d,className:i}){return(0,s.jsxs)("div",{className:n("relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm",d?"p-5":"p-8",i),children:[s.jsx("div",{className:n("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[r?s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:r}):s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M12 3v18"}),s.jsx("path",{d:"M3 12h18"})]})}),s.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),t?s.jsx("div",{className:"mt-2 max-w-xl text-sm text-muted-foreground",children:t}):null,a?.length?s.jsx("div",{className:n("mt-5 flex flex-wrap items-center justify-center gap-2"),children:a.map((e,t)=>s.jsx(l,{a:e},`${e.label}-${t}`))}):null]})]})}},3951:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(326),a=r(7577);function n(...e){return e.filter(Boolean).join(" ")}function l({crumbs:e}){return s.jsx("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:e.map((t,r)=>{let l=t.href?"a":"button",d=t.href?{href:t.href}:{type:"button",onClick:t.onClick};return(0,s.jsxs)(a.Fragment,{children:[s.jsx(l,{...d,className:n("transition hover:text-foreground",t.href?"underline-offset-4 hover:underline":""),children:t.label}),r<e.length-1?s.jsx("span",{className:"opacity-60",children:"/"}):null]},`${t.label}-${r}`)})})}let d=function({title:e,subtitle:t,icon:r,actions:a,crumbs:d,badge:i,className:o}){return(0,s.jsxs)("div",{className:n("relative overflow-hidden rounded-2xl border border-border/60 bg-background shadow-sm","px-5 py-4 md:px-6 md:py-5",o),children:[s.jsx("div",{className:n("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[d?.length?s.jsx(l,{crumbs:d}):null,(0,s.jsxs)("div",{className:"mt-1 flex items-start gap-3",children:[r?s.jsx("div",{className:"mt-0.5 grid h-10 w-10 shrink-0 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:r}):null,(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h1",{className:"truncate text-lg font-semibold text-foreground md:text-xl",children:e}),i?s.jsx("div",{className:"inline-flex items-center rounded-full border border-border/60 bg-muted/40 px-2.5 py-1 text-xs text-muted-foreground",children:i}):null]}),t?s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:t}):null]})]})]}),a?s.jsx("div",{className:"flex shrink-0 flex-wrap items-center gap-2 md:justify-end",children:a}):null]})]})}},7786:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(326);function a(...e){return e.filter(Boolean).join(" ")}function n({data:e}){if(!e?.length)return null;let t=Math.min(...e),r=Math.max(...e)-t||1,a=e.map((s,a)=>{let n=a/Math.max(1,e.length-1)*120;return`${n.toFixed(2)},${(32-(s-t)/r*32).toFixed(2)}`}).join(" ");return s.jsx("svg",{width:120,height:32,viewBox:"0 0 120 32",className:"mt-2 overflow-visible","aria-hidden":"true",children:s.jsx("polyline",{points:a,fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/70",strokeLinejoin:"round",strokeLinecap:"round"})})}function l({trend:e}){let t=e.value>=0,r=`${t?"+":""}${e.value.toFixed(10>Math.abs(e.value)?1:0)}%`;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:a("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs",t?"border-emerald-500/30 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"border-rose-500/30 bg-rose-500/10 text-rose-600 dark:text-rose-400"),children:[s.jsx("svg",{viewBox:"0 0 24 24",className:"h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:t?s.jsx("path",{d:"M7 14l5-5 5 5"}):s.jsx("path",{d:"M7 10l5 5 5-5"})}),r]}),e.label?s.jsx("span",{className:"text-xs text-muted-foreground",children:e.label}):null]})}r(7577);let d=function({title:e,label:t,value:r,subtitle:d,icon:i,trend:o,sparkline:c,footer:x,loading:u,onClick:m,className:g}){let p="function"==typeof m,h=e||t||"";return(0,s.jsxs)("section",{role:p?"button":"region",tabIndex:p?0:-1,onClick:m,onKeyDown:e=>{p&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),m?.())},className:a("group relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm transition",p&&"cursor-pointer hover:border-border hover:shadow-md focus:outline-none focus:ring-2 focus:ring-ring/40",g),"aria-label":h,children:[s.jsx("div",{className:a("pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300","bg-[radial-gradient(900px_circle_at_20%_0%,rgba(99,102,241,0.08),transparent_45%),radial-gradient(700px_circle_at_90%_20%,rgba(16,185,129,0.08),transparent_40%)]","group-hover:opacity-100")}),(0,s.jsxs)("div",{className:"relative p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-xs font-medium tracking-wide text-muted-foreground",children:h}),(0,s.jsxs)("div",{className:"mt-2",children:[u?s.jsx("div",{className:"h-8 w-44 animate-pulse rounded-md bg-muted/60"}):s.jsx("div",{className:"truncate text-2xl font-semibold leading-8 text-foreground",children:r}),d?s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:d}):null]})]}),i?s.jsx("div",{className:a("grid h-11 w-11 place-items-center rounded-2xl border border-border/60","bg-background/60 text-muted-foreground"),"aria-hidden":"true",children:i}):null]}),(0,s.jsxs)("div",{className:"mt-4 flex items-end justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[o?s.jsx(l,{trend:o}):null,x?s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:x}):null]}),c?.length?s.jsx("div",{className:"text-muted-foreground/70",children:s.jsx(n,{data:c})}):null]})]})]})}},7322:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>d});var s=r(8570);let a=(0,s.createProxy)(String.raw`/app/frontend/app/settings/page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let d=(0,s.createProxy)(String.raw`/app/frontend/app/settings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[55,463,302],()=>r(7511));module.exports=s})();