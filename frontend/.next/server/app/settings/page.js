(()=>{var e={};e.id=938,e.ids=[938],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7511:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l}),t(7322),t(9351),t(5866);var s=t(3191),n=t(8716),a=t(7922),o=t.n(a),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7322)),"/app/frontend/app/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9351)),"/app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/app/settings/page.tsx"],u="/settings/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9037:(e,r,t)=>{Promise.resolve().then(t.bind(t,942))},942:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(326),n=t(7577),a=t(4976),o=t(108),i=t(119),d=t(6824),l=t(9395),c=t(3951),u=t(7786),m=t(8825);let x=["ap-south-1","ap-southeast-1","ap-southeast-2","us-east-1","us-west-2","eu-west-1","eu-central-1"];function p(){let e=(0,a.NL)(),{token:r,logout:t}=(0,l.a)(),p=n.useMemo(()=>(function(e){if(!e)return null;let r=e.split(".");if(r.length<2)return null;try{let e=r[1].replace(/-/g,"+").replace(/_/g,"/"),t=e.padEnd(e.length+(4-e.length%4)%4,"="),s=atob(t);return JSON.parse(s)}catch{return null}})(r),[r]),g=p?.email??"",h=p?.role??"",b=p?.org??"",f=(0,o.a)({queryKey:["org-me"],queryFn:()=>(0,d.SC)("/organization/me",{},{token:r||void 0}),enabled:!!r}),[v,j]=n.useState({name:"",region_preference:"ap-south-1"});n.useEffect(()=>{f.data&&j({name:f.data.name??"",region_preference:f.data.region_preference||"ap-south-1"})},[f.data]);let y=(0,i.D)({mutationFn:async()=>{let e={name:v.name.trim(),region_preference:v.region_preference||null};return(0,d.SC)("/organization/me",{method:"PATCH",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},{token:r||void 0})},onSuccess:async()=>{await e.invalidateQueries({queryKey:["org-me"]})}}),N=y.isPending,w=N||!v.name.trim();return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(c.Z,{title:"Settings",subtitle:"Manage your organization preferences and account details."}),(0,s.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[s.jsx(u.Z,{title:"Account",value:g||"-",subtitle:h?`Role: ${h}`:" "}),s.jsx(u.Z,{title:"Organization ID",value:b||"-",subtitle:"Tenant scope"}),s.jsx(u.Z,{title:"Environment",value:"Production",subtitle:"Current runtime"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card p-5 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Organization"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Update your org name and default region."})]}),s.jsx("button",{type:"button",onClick:()=>f.refetch(),className:"rounded-xl border border-border/60 bg-background px-3 py-2 text-sm font-medium text-foreground shadow-sm hover:bg-accent",disabled:f.isFetching,children:f.isFetching?"Refreshing...":"Refresh"})]}),f.isLoading?(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-10 w-full animate-pulse rounded-xl bg-muted"}),s.jsx("div",{className:"h-10 w-full animate-pulse rounded-xl bg-muted"}),s.jsx("div",{className:"h-10 w-40 animate-pulse rounded-xl bg-muted"})]}):f.isError?s.jsx(m.Z,{title:"Couldn't load organization",description:"Please try refresh. If it persists, check your token/session.",actions:[{label:"Retry",onClick:()=>f.refetch()}]}):(0,s.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),w||y.mutate()},children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Organization name"}),s.jsx("input",{value:v.name,onChange:e=>j(r=>({...r,name:e.target.value})),placeholder:"Your organization",className:"w-full rounded-xl border border-border/60 bg-background px-3 py-2 text-sm text-foreground shadow-sm outline-none ring-0 focus:border-border focus:outline-none",maxLength:200}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This appears across dashboards and reports."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default region"}),s.jsx("select",{value:v.region_preference,onChange:e=>j(r=>({...r,region_preference:e.target.value})),className:"w-full rounded-xl border border-border/60 bg-background px-3 py-2 text-sm text-foreground shadow-sm outline-none ring-0 focus:border-border focus:outline-none",children:x.map(e=>s.jsx("option",{value:e,children:e},e))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used as a fallback for emissions factors and reporting."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("button",{type:"submit",disabled:w,className:"inline-flex items-center justify-center rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground shadow-sm hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:N?"Saving...":"Save changes"}),s.jsx("button",{type:"button",onClick:()=>{f.data&&j({name:f.data.name??"",region_preference:f.data.region_preference||"ap-south-1"})},className:"rounded-xl border border-border/60 bg-background px-4 py-2 text-sm font-semibold text-foreground shadow-sm hover:bg-accent",children:"Reset"}),y.isError?s.jsx("span",{className:"text-sm text-destructive",children:"Failed to save. Try again."}):y.isSuccess?s.jsx("span",{className:"text-sm text-emerald-500",children:"Saved."}):null]})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card p-5 shadow-sm",children:[s.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Security"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Manage your session and access."}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-muted/30 p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Session"}),s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:g||"Signed in"}),s.jsx("div",{className:"mt-3 flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-border/60 bg-background px-4 py-2 text-sm font-semibold text-foreground shadow-sm hover:bg-accent",children:"Sign out"})})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-foreground",children:"API keys"}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create project keys from the API Keys page and use them in SDK/CLI ingestion."}),s.jsx("a",{href:"/api-keys",className:"mt-3 inline-flex items-center justify-center rounded-xl bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground shadow-sm hover:opacity-90",children:"Go to API Keys"})]})]})]})]})]})}},8825:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(326);t(7577);var n=t(434);function a(...e){return e.filter(Boolean).join(" ")}function o({a:e}){let r=a("inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-ring/40 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:opacity-90 shadow-sm border border-primary/20",secondary:"bg-muted/60 text-foreground hover:bg-muted border border-border/60",ghost:"bg-transparent text-foreground hover:bg-muted/60 border border-transparent"}[e.variant??"primary"]);return e.href?e.external?(0,s.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:r,children:[e.icon,e.label]}):(0,s.jsxs)(n.default,{href:e.href,className:r,children:[e.icon,e.label]}):(0,s.jsxs)("button",{type:"button",className:r,onClick:e.onClick,children:[e.icon,e.label]})}let i=function({title:e,description:r,icon:t,actions:n,compact:i,className:d}){return(0,s.jsxs)("div",{className:a("relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm",i?"p-5":"p-8",d),children:[s.jsx("div",{className:a("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[t?s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:t}):s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M12 3v18"}),s.jsx("path",{d:"M3 12h18"})]})}),s.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),r?s.jsx("div",{className:"mt-2 max-w-xl text-sm text-muted-foreground",children:r}):null,n?.length?s.jsx("div",{className:a("mt-5 flex flex-wrap items-center justify-center gap-2"),children:n.map((e,r)=>s.jsx(o,{a:e},`${e.label}-${r}`))}):null]})]})}},3951:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(326),n=t(7577);function a(...e){return e.filter(Boolean).join(" ")}function o({crumbs:e}){return s.jsx("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:e.map((r,t)=>{let o=r.href?"a":"button",i=r.href?{href:r.href}:{type:"button",onClick:r.onClick};return(0,s.jsxs)(n.Fragment,{children:[s.jsx(o,{...i,className:a("transition hover:text-foreground",r.href?"underline-offset-4 hover:underline":""),children:r.label}),t<e.length-1?s.jsx("span",{className:"opacity-60",children:"/"}):null]},`${r.label}-${t}`)})})}let i=function({title:e,subtitle:r,icon:t,actions:n,crumbs:i,badge:d,className:l}){return(0,s.jsxs)("div",{className:a("relative overflow-hidden rounded-2xl border border-border/60 bg-background shadow-sm","px-5 py-4 md:px-6 md:py-5",l),children:[s.jsx("div",{className:a("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[i?.length?s.jsx(o,{crumbs:i}):null,(0,s.jsxs)("div",{className:"mt-1 flex items-start gap-3",children:[t?s.jsx("div",{className:"mt-0.5 grid h-10 w-10 shrink-0 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:t}):null,(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h1",{className:"truncate text-lg font-semibold text-foreground md:text-xl",children:e}),d?s.jsx("div",{className:"inline-flex items-center rounded-full border border-border/60 bg-muted/40 px-2.5 py-1 text-xs text-muted-foreground",children:d}):null]}),r?s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:r}):null]})]})]}),n?s.jsx("div",{className:"flex shrink-0 flex-wrap items-center gap-2 md:justify-end",children:n}):null]})]})}},7786:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(326);function n(...e){return e.filter(Boolean).join(" ")}function a({data:e}){if(!e?.length)return null;let r=Math.min(...e),t=Math.max(...e)-r||1,n=e.map((s,n)=>{let a=n/Math.max(1,e.length-1)*120;return`${a.toFixed(2)},${(32-(s-r)/t*32).toFixed(2)}`}).join(" ");return s.jsx("svg",{width:120,height:32,viewBox:"0 0 120 32",className:"mt-2 overflow-visible","aria-hidden":"true",children:s.jsx("polyline",{points:n,fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/70",strokeLinejoin:"round",strokeLinecap:"round"})})}function o({trend:e}){let r=e.value>=0,t=`${r?"+":""}${e.value.toFixed(10>Math.abs(e.value)?1:0)}%`;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:n("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs",r?"border-emerald-500/30 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"border-rose-500/30 bg-rose-500/10 text-rose-600 dark:text-rose-400"),children:[s.jsx("svg",{viewBox:"0 0 24 24",className:"h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:r?s.jsx("path",{d:"M7 14l5-5 5 5"}):s.jsx("path",{d:"M7 10l5 5 5-5"})}),t]}),e.label?s.jsx("span",{className:"text-xs text-muted-foreground",children:e.label}):null]})}t(7577);let i=function({title:e,label:r,value:t,subtitle:i,icon:d,trend:l,sparkline:c,footer:u,loading:m,onClick:x,className:p}){let g="function"==typeof x,h=e||r||"";return(0,s.jsxs)("section",{role:g?"button":"region",tabIndex:g?0:-1,onClick:x,onKeyDown:e=>{g&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),x?.())},className:n("group relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm transition",g&&"cursor-pointer hover:border-border hover:shadow-md focus:outline-none focus:ring-2 focus:ring-ring/40",p),"aria-label":h,children:[s.jsx("div",{className:n("pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300","bg-[radial-gradient(900px_circle_at_20%_0%,rgba(99,102,241,0.08),transparent_45%),radial-gradient(700px_circle_at_90%_20%,rgba(16,185,129,0.08),transparent_40%)]","group-hover:opacity-100")}),(0,s.jsxs)("div",{className:"relative p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-xs font-medium tracking-wide text-muted-foreground",children:h}),(0,s.jsxs)("div",{className:"mt-2",children:[m?s.jsx("div",{className:"h-8 w-44 animate-pulse rounded-md bg-muted/60"}):s.jsx("div",{className:"truncate text-2xl font-semibold leading-8 text-foreground",children:t}),i?s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:i}):null]})]}),d?s.jsx("div",{className:n("grid h-11 w-11 place-items-center rounded-2xl border border-border/60","bg-background/60 text-muted-foreground"),"aria-hidden":"true",children:d}):null]}),(0,s.jsxs)("div",{className:"mt-4 flex items-end justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[l?s.jsx(o,{trend:l}):null,u?s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:u}):null]}),c?.length?s.jsx("div",{className:"text-muted-foreground/70",children:s.jsx(a,{data:c})}):null]})]})]})}},7322:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var s=t(8570);let n=(0,s.createProxy)(String.raw`/app/frontend/app/settings/page.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let i=(0,s.createProxy)(String.raw`/app/frontend/app/settings/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[55,463,302],()=>t(7511));module.exports=s})();