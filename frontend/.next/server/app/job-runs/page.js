(()=>{var e={};e.id=567,e.ids=[567],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7433:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>i}),t(8768),t(9351),t(5866);var s=t(3191),n=t(8716),a=t(7922),o=t.n(a),d=t(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(r,l);let i=["",{children:["job-runs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8768)),"/app/frontend/app/job-runs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9351)),"/app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/app/job-runs/page.tsx"],u="/job-runs/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/job-runs/page",pathname:"/job-runs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},6895:(e,r,t)=>{Promise.resolve().then(t.bind(t,5057))},5057:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(326),n=t(7577),a=t(8825),o=t(6824),d=t(9395);function l(e){if(!e)return"—";let r=new Date(e);return Number.isNaN(r.getTime())?"—":new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(r)}function i(e,r=3){return null!=e&&Number.isFinite(e)?new Intl.NumberFormat(void 0,{maximumFractionDigits:r}).format(e):"—"}function c(){let{token:e}=(0,d.a)(),[r,t]=(0,n.useState)(""),[c,p]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[h,j]=(0,n.useState)(""),[v,N]=(0,n.useState)([]),[y,_]=(0,n.useState)(!0),[w,k]=(0,n.useState)(null),[C,S]=(0,n.useState)(!1),[P,L]=(0,n.useState)(null),[E,R]=(0,n.useState)(null),[$,q]=(0,n.useState)(!1),[M,T]=(0,n.useState)(null),A=(0,n.useRef)(null),D=(0,n.useMemo)(()=>{let e={};return r.trim()&&(e.project_id=r.trim()),b&&(e.start=new Date(`${b}T00:00:00.000Z`).toISOString()),h&&(e.end=new Date(`${h}T23:59:59.999Z`).toISOString()),e},[r,b,h]),F=(0,n.useMemo)(()=>{let e=c.trim().toLowerCase();return e?v.filter(r=>(r.run_name||"").toLowerCase().includes(e)||(r.job_type||"").toLowerCase().includes(e)||(r.region||"").toLowerCase().includes(e)||(r.status||"").toLowerCase().includes(e)||(r.external_run_id||"").toLowerCase().includes(e)||(r.dedupe_key||"").toLowerCase().includes(e)):v},[v,c]),O=(0,n.useMemo)(()=>{let e=F.length,r=0,t=0;for(let e of F)r+=Number(e.energy_kwh||0),t+=Number(e.carbon_kg_co2e||0);return{totalRuns:e,energy:r,carbon:t}},[F]);async function I(){if(!e){N([]),_(!1),k("Not authenticated");return}_(!0),k(null),A.current?.abort();let r=new AbortController;A.current=r;try{let t=new URLSearchParams(D).toString(),s=t?`/job-runs?${t}`:"/job-runs",n=await (0,o.SC)(s,{signal:r.signal},{token:e});N(Array.isArray(n)?n:[])}catch(e){if(e?.name==="AbortError")return;k(e?.message||"Failed to load job runs"),N([])}finally{_(!1)}}return(0,s.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 py-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Telemetry"}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Job Runs"}),s.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Filter, inspect, and audit ingested runs."})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:I,className:"inline-flex items-center justify-center rounded-xl border border-border/60 bg-background px-3 py-2 text-sm font-medium text-foreground shadow-sm hover:bg-accent",children:"Refresh"})})]}),(0,s.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-3 rounded-2xl border border-border/60 bg-card p-4 shadow-sm sm:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Project ID"}),s.jsx("input",{value:r,onChange:e=>t(e.target.value),placeholder:"UUID",className:"h-10 rounded-xl border border-border/60 bg-background px-3 text-sm text-foreground outline-none ring-0 placeholder:text-muted-foreground focus:border-border"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Search"}),s.jsx("input",{value:c,onChange:e=>p(e.target.value),placeholder:"run name, status, region…",className:"h-10 rounded-xl border border-border/60 bg-background px-3 text-sm text-foreground outline-none ring-0 placeholder:text-muted-foreground focus:border-border"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"From"}),s.jsx("input",{type:"date",value:b,onChange:e=>f(e.target.value),className:"h-10 rounded-xl border border-border/60 bg-background px-3 text-sm text-foreground outline-none ring-0 focus:border-border"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"To"}),s.jsx("input",{type:"date",value:h,onChange:e=>j(e.target.value),className:"h-10 rounded-xl border border-border/60 bg-background px-3 text-sm text-foreground outline-none ring-0 focus:border-border"})]})]}),(0,s.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[s.jsx(u,{label:"Runs",value:O.totalRuns.toString()}),s.jsx(u,{label:"Energy (kWh)",value:i(O.energy,4)}),s.jsx(u,{label:"Carbon (kgCO₂e)",value:i(O.carbon,4)})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-border/60 px-4 py-3",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-foreground",children:["Runs",s.jsx("span",{className:"ml-2 text-xs font-normal text-muted-foreground",children:y?"Loading…":`${F.length} shown`})]}),w?s.jsx("div",{className:"text-xs text-destructive",children:w}):null]}),y?s.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:"Loading job runs…"}):0===F.length?s.jsx("div",{className:"p-10",children:s.jsx(a.Z,{title:"No runs found",description:"Try changing filters or ingest a run via SDK/API key."})}):s.jsx("div",{className:"w-full overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-[900px] text-left text-sm",children:[s.jsx("thead",{className:"bg-muted/25 text-xs text-muted-foreground",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Run"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Region"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Start"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"End"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Energy (kWh)"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Carbon (kg)"})]})}),s.jsx("tbody",{className:"divide-y divide-border/60",children:F.map(e=>(0,s.jsxs)("tr",{className:"cursor-pointer hover:bg-accent/40 transition",onClick:()=>{L(e.id),S(!0)},children:[(0,s.jsxs)("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium text-foreground",children:e.run_name}),s.jsx("div",{className:"mt-0.5 text-xs text-muted-foreground",children:e.id})]}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:e.job_type}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:e.region}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ${function(e){let r=(e||"").toLowerCase();return["success","succeeded","completed","done"].includes(r)?"bg-emerald-500/15 text-emerald-300 ring-emerald-500/30":["failed","error","cancelled","canceled"].includes(r)?"bg-rose-500/15 text-rose-300 ring-rose-500/30":["running","in_progress","processing"].includes(r)?"bg-sky-500/15 text-sky-300 ring-sky-500/30":"bg-zinc-500/15 text-zinc-300 ring-zinc-500/30"}(e.status)}`,children:e.status||"unknown"})}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:l(e.start_time)}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:l(e.end_time)}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:i(e.energy_kwh,6)}),s.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:i(e.carbon_kg_co2e,6)})]},e.id))})]})})]}),s.jsx(x,{open:C,onClose:()=>S(!1),title:"Run details",children:P?$?s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Loading…"}):M?s.jsx("div",{className:"p-4 text-sm text-destructive",children:M}):E?(0,s.jsxs)("div",{className:"space-y-4 p-4",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-foreground",children:E.run_name}),s.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:E.id})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[s.jsx(m,{label:"Job type",value:E.job_type}),s.jsx(m,{label:"Region",value:E.region}),s.jsx(m,{label:"Status",value:E.status||"unknown"}),s.jsx(m,{label:"Project",value:E.project_id,mono:!0}),s.jsx(m,{label:"Org",value:E.organization_id,mono:!0}),s.jsx(m,{label:"External run id",value:E.external_run_id||"—",mono:!0}),s.jsx(m,{label:"Dedupe key",value:E.dedupe_key||"—",mono:!0}),s.jsx(m,{label:"Start time",value:l(E.start_time)}),s.jsx(m,{label:"End time",value:l(E.end_time)}),s.jsx(m,{label:"Energy (kWh)",value:i(E.energy_kwh,6)}),s.jsx(m,{label:"Carbon (kgCO₂e)",value:i(E.carbon_kg_co2e,6)})]}),s.jsx(g,{title:"Tags",data:E.tags}),s.jsx(g,{title:"Metadata",data:E.run_metadata}),s.jsx(g,{title:"Hardware",data:E.hardware}),s.jsx(g,{title:"Energy payload",data:E.energy}),s.jsx(g,{title:"Costs",data:E.costs})]}):s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No details."}):null})]})}function u({label:e,value:r}){return(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card p-4",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:e}),s.jsx("div",{className:"mt-2 text-2xl font-semibold tracking-tight text-foreground",children:r})]})}function x({open:e,onClose:r,title:t,children:n}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 backdrop-blur-sm transition-opacity ${e?"opacity-100":"pointer-events-none opacity-0"}`,onClick:r}),(0,s.jsxs)("div",{className:`fixed right-0 top-0 z-50 h-full w-full max-w-xl transform border-l border-border/60 bg-background shadow-2xl transition-transform ${e?"translate-x-0":"translate-x-full"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-border/60 px-4 py-3",children:[s.jsx("div",{className:"text-sm font-semibold text-foreground",children:t}),s.jsx("button",{onClick:r,className:"rounded-lg px-2 py-1 text-sm text-muted-foreground hover:bg-accent","aria-label":"Close",children:"\xd7"})]}),s.jsx("div",{className:"h-[calc(100%-49px)] overflow-y-auto",children:n})]})]})}function m({label:e,value:r,mono:t}){return(0,s.jsxs)("div",{className:"rounded-xl border border-border/60 bg-card p-3",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:e}),s.jsx("div",{className:`mt-1 text-sm text-foreground ${t?"font-mono text-xs":""}`,children:r})]})}function g({title:e,data:r}){let t=(0,n.useMemo)(()=>{if(!r||"object"==typeof r&&0===Object.keys(r).length)return null;try{return JSON.stringify(r,null,2)}catch{return String(r)}},[r]);return(0,s.jsxs)("div",{className:"rounded-2xl border border-border/60 bg-card p-4",children:[s.jsx("div",{className:"text-xs font-semibold text-foreground",children:e}),t?s.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-xl bg-muted/30 p-3 text-xs text-foreground",children:t}):s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"—"})]})}},8825:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var s=t(326);t(7577);var n=t(434);function a(...e){return e.filter(Boolean).join(" ")}function o({a:e}){let r=a("inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-ring/40 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:opacity-90 shadow-sm border border-primary/20",secondary:"bg-muted/60 text-foreground hover:bg-muted border border-border/60",ghost:"bg-transparent text-foreground hover:bg-muted/60 border border-transparent"}[e.variant??"primary"]);return e.href?e.external?(0,s.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:r,children:[e.icon,e.label]}):(0,s.jsxs)(n.default,{href:e.href,className:r,children:[e.icon,e.label]}):(0,s.jsxs)("button",{type:"button",className:r,onClick:e.onClick,children:[e.icon,e.label]})}let d=function({title:e,description:r,icon:t,actions:n,compact:d,className:l}){return(0,s.jsxs)("div",{className:a("relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm",d?"p-5":"p-8",l),children:[s.jsx("div",{className:a("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[t?s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:t}):s.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M12 3v18"}),s.jsx("path",{d:"M3 12h18"})]})}),s.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),r?s.jsx("div",{className:"mt-2 max-w-xl text-sm text-muted-foreground",children:r}):null,n?.length?s.jsx("div",{className:a("mt-5 flex flex-wrap items-center justify-center gap-2"),children:n.map((e,r)=>s.jsx(o,{a:e},`${e.label}-${r}`))}):null]})]})}},8768:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>a,default:()=>d});var s=t(8570);let n=(0,s.createProxy)(String.raw`/app/frontend/app/job-runs/page.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let d=(0,s.createProxy)(String.raw`/app/frontend/app/job-runs/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[55,302],()=>t(7433));module.exports=s})();