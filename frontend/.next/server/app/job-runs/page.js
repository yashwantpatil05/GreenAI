(()=>{var e={};e.id=567,e.ids=[567],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7433:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),r(8768),r(9351),r(5866);var n=r(3191),s=r(8716),a=r(7922),i=r.n(a),d=r(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let c=["",{children:["job-runs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8768)),"/app/frontend/app/job-runs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9351)),"/app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/app/frontend/app/job-runs/page.tsx"],x="/job-runs/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/job-runs/page",pathname:"/job-runs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6895:(e,t,r)=>{Promise.resolve().then(r.bind(r,5057))},5057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(326),s=r(7577),a=r(8825),i=r(6824),d=r(9395);function l(e){if(!e)return"—";let t=new Date(e);return Number.isNaN(t.getTime())?"—":new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}function c(e,t=3){return null!=e&&Number.isFinite(e)?new Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(e):"—"}function o(){let{token:e}=(0,d.a)(),[t,r]=(0,s.useState)(""),[o,p]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),[z,v]=(0,s.useState)([]),[k,N]=(0,s.useState)(!0),[y,w]=(0,s.useState)(null),[_,C]=(0,s.useState)(!1),[S,P]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[R,$]=(0,s.useState)(!1),[q,M]=(0,s.useState)(null),T=(0,s.useRef)(null),A=(0,s.useMemo)(()=>{let e={};return t.trim()&&(e.project_id=t.trim()),g&&(e.start=new Date(`${g}T00:00:00.000Z`).toISOString()),j&&(e.end=new Date(`${j}T23:59:59.999Z`).toISOString()),e},[t,g,j]),D=(0,s.useMemo)(()=>{let e=o.trim().toLowerCase();return e?z.filter(t=>(t.run_name||"").toLowerCase().includes(e)||(t.job_type||"").toLowerCase().includes(e)||(t.region||"").toLowerCase().includes(e)||(t.status||"").toLowerCase().includes(e)||(t.external_run_id||"").toLowerCase().includes(e)||(t.dedupe_key||"").toLowerCase().includes(e)):z},[z,o]),F=(0,s.useMemo)(()=>{let e=D.length,t=0,r=0;for(let e of D)t+=Number(e.energy_kwh||0),r+=Number(e.carbon_kg_co2e||0);return{totalRuns:e,energy:t,carbon:r}},[D]);async function O(){if(!e){v([]),N(!1),w("Not authenticated");return}N(!0),w(null),T.current?.abort();let t=new AbortController;T.current=t;try{let r=new URLSearchParams(A).toString(),n=r?`/job-runs?${r}`:"/job-runs",s=await (0,i.SC)(n,{signal:t.signal},{token:e});v(Array.isArray(s)?s:[])}catch(e){if(e?.name==="AbortError")return;w(e?.message||"Failed to load job runs"),v([])}finally{N(!1)}}return(0,n.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 py-6",children:[(0,n.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Telemetry"}),n.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-zinc-900 dark:text-zinc-50",children:"Job Runs"}),n.jsx("div",{className:"mt-1 text-sm text-zinc-600 dark:text-zinc-400",children:"Filter, inspect, and audit ingested runs."})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:O,className:"inline-flex items-center justify-center rounded-xl border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-900 shadow-sm hover:bg-zinc-50 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100 dark:hover:bg-zinc-900",children:"Refresh"})})]}),(0,n.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-3 rounded-2xl border border-zinc-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-950 sm:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"Project ID"}),n.jsx("input",{value:t,onChange:e=>r(e.target.value),placeholder:"UUID",className:"h-10 rounded-xl border border-zinc-200 bg-white px-3 text-sm text-zinc-900 outline-none ring-0 placeholder:text-zinc-400 focus:border-zinc-300 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100 dark:placeholder:text-zinc-500"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"Search"}),n.jsx("input",{value:o,onChange:e=>p(e.target.value),placeholder:"run name, status, region…",className:"h-10 rounded-xl border border-zinc-200 bg-white px-3 text-sm text-zinc-900 outline-none ring-0 placeholder:text-zinc-400 focus:border-zinc-300 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100 dark:placeholder:text-zinc-500"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"From"}),n.jsx("input",{type:"date",value:g,onChange:e=>h(e.target.value),className:"h-10 rounded-xl border border-zinc-200 bg-white px-3 text-sm text-zinc-900 outline-none ring-0 focus:border-zinc-300 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"To"}),n.jsx("input",{type:"date",value:j,onChange:e=>f(e.target.value),className:"h-10 rounded-xl border border-zinc-200 bg-white px-3 text-sm text-zinc-900 outline-none ring-0 focus:border-zinc-300 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-100"})]})]}),(0,n.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsx(x,{label:"Runs",value:F.totalRuns.toString()}),n.jsx(x,{label:"Energy (kWh)",value:c(F.energy,4)}),n.jsx(x,{label:"Carbon (kgCO₂e)",value:c(F.carbon,4)})]}),(0,n.jsxs)("div",{className:"rounded-2xl border border-zinc-200 bg-white shadow-sm dark:border-zinc-800 dark:bg-zinc-950",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-200 px-4 py-3 dark:border-zinc-800",children:[(0,n.jsxs)("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:["Runs",n.jsx("span",{className:"ml-2 text-xs font-normal text-zinc-500 dark:text-zinc-400",children:k?"Loading…":`${D.length} shown`})]}),y?n.jsx("div",{className:"text-xs text-rose-600 dark:text-rose-400",children:y}):null]}),k?n.jsx("div",{className:"p-6 text-sm text-zinc-600 dark:text-zinc-400",children:"Loading job runs…"}):0===D.length?n.jsx("div",{className:"p-10",children:n.jsx(a.Z,{title:"No runs found",description:"Try changing filters or ingest a run via SDK/API key."})}):n.jsx("div",{className:"w-full overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full min-w-[900px] text-left text-sm",children:[n.jsx("thead",{className:"bg-zinc-50 text-xs text-zinc-600 dark:bg-zinc-900/30 dark:text-zinc-400",children:(0,n.jsxs)("tr",{children:[n.jsx("th",{className:"px-4 py-3 font-medium",children:"Run"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Region"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Start"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"End"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Energy (kWh)"}),n.jsx("th",{className:"px-4 py-3 font-medium",children:"Carbon (kg)"})]})}),n.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:D.map(e=>(0,n.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-900/30",onClick:()=>{P(e.id),C(!0)},children:[(0,n.jsxs)("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:e.run_name}),n.jsx("div",{className:"mt-0.5 text-xs text-zinc-500 dark:text-zinc-400",children:e.id})]}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:e.job_type}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:e.region}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ${function(e){let t=(e||"").toLowerCase();return["success","succeeded","completed","done"].includes(t)?"bg-emerald-500/15 text-emerald-300 ring-emerald-500/30":["failed","error","cancelled","canceled"].includes(t)?"bg-rose-500/15 text-rose-300 ring-rose-500/30":["running","in_progress","processing"].includes(t)?"bg-sky-500/15 text-sky-300 ring-sky-500/30":"bg-zinc-500/15 text-zinc-300 ring-zinc-500/30"}(e.status)}`,children:e.status||"unknown"})}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:l(e.start_time)}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:l(e.end_time)}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:c(e.energy_kwh,6)}),n.jsx("td",{className:"px-4 py-3 text-zinc-700 dark:text-zinc-300",children:c(e.carbon_kg_co2e,6)})]},e.id))})]})})]}),n.jsx(u,{open:_,onClose:()=>C(!1),title:"Run details",children:S?R?n.jsx("div",{className:"p-4 text-sm text-zinc-600 dark:text-zinc-400",children:"Loading…"}):q?n.jsx("div",{className:"p-4 text-sm text-rose-600 dark:text-rose-400",children:q}):L?(0,n.jsxs)("div",{className:"space-y-4 p-4",children:[(0,n.jsxs)("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:L.run_name}),n.jsx("div",{className:"mt-1 text-xs text-zinc-500 dark:text-zinc-400",children:L.id})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[n.jsx(m,{label:"Job type",value:L.job_type}),n.jsx(m,{label:"Region",value:L.region}),n.jsx(m,{label:"Status",value:L.status||"unknown"}),n.jsx(m,{label:"Project",value:L.project_id,mono:!0}),n.jsx(m,{label:"Org",value:L.organization_id,mono:!0}),n.jsx(m,{label:"External run id",value:L.external_run_id||"—",mono:!0}),n.jsx(m,{label:"Dedupe key",value:L.dedupe_key||"—",mono:!0}),n.jsx(m,{label:"Start time",value:l(L.start_time)}),n.jsx(m,{label:"End time",value:l(L.end_time)}),n.jsx(m,{label:"Energy (kWh)",value:c(L.energy_kwh,6)}),n.jsx(m,{label:"Carbon (kgCO₂e)",value:c(L.carbon_kg_co2e,6)})]}),n.jsx(b,{title:"Tags",data:L.tags}),n.jsx(b,{title:"Metadata",data:L.run_metadata}),n.jsx(b,{title:"Hardware",data:L.hardware}),n.jsx(b,{title:"Energy payload",data:L.energy}),n.jsx(b,{title:"Costs",data:L.costs})]}):n.jsx("div",{className:"p-4 text-sm text-zinc-600 dark:text-zinc-400",children:"No details."}):null})]})}function x({label:e,value:t}){return(0,n.jsxs)("div",{className:"rounded-2xl border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-950",children:[n.jsx("div",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:e}),n.jsx("div",{className:"mt-2 text-2xl font-semibold tracking-tight text-zinc-900 dark:text-zinc-100",children:t})]})}function u({open:e,onClose:t,title:r,children:s}){return(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 transition-opacity ${e?"opacity-100":"pointer-events-none opacity-0"}`,onClick:t}),(0,n.jsxs)("div",{className:`fixed right-0 top-0 z-50 h-full w-full max-w-xl transform border-l border-zinc-200 bg-white shadow-2xl transition-transform dark:border-zinc-800 dark:bg-zinc-950 ${e?"translate-x-0":"translate-x-full"}`,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-200 px-4 py-3 dark:border-zinc-800",children:[n.jsx("div",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:r}),n.jsx("button",{onClick:t,className:"rounded-lg px-2 py-1 text-sm text-zinc-600 hover:bg-zinc-100 dark:text-zinc-300 dark:hover:bg-zinc-900","aria-label":"Close",children:"\xd7"})]}),n.jsx("div",{className:"h-[calc(100%-49px)] overflow-y-auto",children:s})]})]})}function m({label:e,value:t,mono:r}){return(0,n.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-3 dark:border-zinc-800 dark:bg-zinc-950",children:[n.jsx("div",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400",children:e}),n.jsx("div",{className:`mt-1 text-sm text-zinc-900 dark:text-zinc-100 ${r?"font-mono text-xs":""}`,children:t})]})}function b({title:e,data:t}){let r=(0,s.useMemo)(()=>{if(!t||"object"==typeof t&&0===Object.keys(t).length)return null;try{return JSON.stringify(t,null,2)}catch{return String(t)}},[t]);return(0,n.jsxs)("div",{className:"rounded-2xl border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-950",children:[n.jsx("div",{className:"text-xs font-semibold text-zinc-700 dark:text-zinc-300",children:e}),r?n.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-xl bg-zinc-50 p-3 text-xs text-zinc-800 dark:bg-zinc-900/40 dark:text-zinc-200",children:r}):n.jsx("div",{className:"mt-2 text-sm text-zinc-500 dark:text-zinc-400",children:"—"})]})}},8825:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(326);r(7577);var s=r(434);function a(...e){return e.filter(Boolean).join(" ")}function i({a:e}){let t=a("inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-ring/40 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:opacity-90 shadow-sm border border-primary/20",secondary:"bg-muted/60 text-foreground hover:bg-muted border border-border/60",ghost:"bg-transparent text-foreground hover:bg-muted/60 border border-transparent"}[e.variant??"primary"]);return e.href?e.external?(0,n.jsxs)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:t,children:[e.icon,e.label]}):(0,n.jsxs)(s.default,{href:e.href,className:t,children:[e.icon,e.label]}):(0,n.jsxs)("button",{type:"button",className:t,onClick:e.onClick,children:[e.icon,e.label]})}let d=function({title:e,description:t,icon:r,actions:s,compact:d,className:l}){return(0,n.jsxs)("div",{className:a("relative overflow-hidden rounded-2xl border border-border/60 bg-background","shadow-sm",d?"p-5":"p-8",l),children:[n.jsx("div",{className:a("pointer-events-none absolute inset-0 opacity-70","bg-[radial-gradient(900px_circle_at_25%_0%,rgba(99,102,241,0.07),transparent_45%),radial-gradient(700px_circle_at_85%_20%,rgba(16,185,129,0.07),transparent_40%)]")}),(0,n.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[r?n.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:r}):n.jsx("div",{className:"mb-4 grid h-14 w-14 place-items-center rounded-2xl border border-border/60 bg-background/70 text-muted-foreground",children:(0,n.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[n.jsx("path",{d:"M12 3v18"}),n.jsx("path",{d:"M3 12h18"})]})}),n.jsx("h3",{className:"text-base font-semibold text-foreground",children:e}),t?n.jsx("div",{className:"mt-2 max-w-xl text-sm text-muted-foreground",children:t}):null,s?.length?n.jsx("div",{className:a("mt-5 flex flex-wrap items-center justify-center gap-2"),children:s.map((e,t)=>n.jsx(i,{a:e},`${e.label}-${t}`))}):null]})]})}},8768:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>d});var n=r(8570);let s=(0,n.createProxy)(String.raw`/app/frontend/app/job-runs/page.tsx`),{__esModule:a,$$typeof:i}=s;s.default;let d=(0,n.createProxy)(String.raw`/app/frontend/app/job-runs/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[55,302],()=>r(7433));module.exports=n})();